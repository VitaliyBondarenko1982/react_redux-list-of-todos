(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{16:function(t,e,n){t.exports=n(32)},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(4),s=n.n(a),c=n(3),u=(n(27),n(15)),l=(n(28),function(t){var e=t.user;return r.a.createElement("p",{className:"user"},e.name)}),i=(n(29),{removeTodo:function(t){return{type:"REMOVE_TODO",payload:t}}}),d=Object(c.b)((function(t){return{todos:t.todos}}),i)((function(t){var e=t.todo,n=t.removeTodo,o=e.id,a=e.title,s=e.user,c=e.completed;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"todo__title"},a),r.a.createElement(l,{user:s}),r.a.createElement("p",{className:"todo__status"},c?"OK":"-"),r.a.createElement("button",{className:"remove-button",type:"button",onClick:function(){return n(o)}},"Remove"))})),m=(n(30),function(t){var e=t.todos;return r.a.createElement("ul",{className:"list"},e.map((function(t){return r.a.createElement("li",{key:t.id,className:"list__item todo"},r.a.createElement(d,{todo:t}))})))}),p=n(5),f=n(1),E=n(9),y=n.n(E),b=n(12),O="https://jsonplaceholder.typicode.com/";function S(t){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T={setTodos:function(t){return{type:"SET_TODOS",payload:t}},setUsers:function(t){return{type:"SET_USERS",payload:t}},startLoading:function(){return{type:"SET_IS_LOADING",payload:!0}},stopLoading:function(){return{type:"SET_IS_LOADING",payload:!1}},setIsLoaded:function(){return{type:"SET_IS_LOADED",payload:!0}},setError:function(){return{type:"SET_ERROR",payload:!0}},setNoError:function(){return{type:"SET_ERROR",payload:!1}},setSortField:function(t){return{type:"SET_SORT_FIELD",payload:t}}},L=Object(c.b)((function(t){return{todos:t.users.length?(e=t.todos,n=t.users,e.map((function(t){var e=n.find((function(e){return e.id===t.userId}));return Object(f.a)({},t,{user:e})}))):[],isLoaded:t.isLoaded,isLoading:t.isLoading,error:t.error,sortField:t.sortField};var e,n}),T)((function(t){var e=t.isLoaded,n=t.isLoading,a=t.error,s=t.todos,c=t.sortField,l=t.setTodos,i=t.setUsers,d=t.startLoading,f=t.stopLoading,E=t.setIsLoaded,y=t.setError,b=t.setNoError,_=t.setSortField,T=Object(o.useCallback)((function(){d(),Promise.all([S("".concat(O,"todos")),S("".concat(O,"users"))]).then((function(t){var e=Object(u.a)(t,2),n=e[0],o=e[1];i(o),l(n),E(),b()})).catch((function(){return y()})).finally((function(){return f()}))}),[y,b,E,l,i,d,f]),L=function(t){_(t)},v=Object(o.useMemo)((function(){return function(t,e){switch(t){case"sortByTitle":return Object(p.a)(e).sort((function(t,e){return t.title.localeCompare(e.title)}));case"sortByName":return Object(p.a)(e).sort((function(t,e){return t.user.name.localeCompare(e.user.name)}));case"sortByCompleted":return Object(p.a)(e).sort((function(t,e){return e.completed.toString().localeCompare(t.completed.toString())}));default:return e}}(c,s)}),[c,s]);return a?r.a.createElement("p",null,"`Error loading! Try again!`"):r.a.createElement(r.a.Fragment,null,e?r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"title"},"Static list of todos"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"button",type:"button",onClick:function(){return L("sortByTitle")}},"Sort by title"),r.a.createElement("button",{className:" button",type:"button",onClick:function(){return L("sortByName")}},"Sort by name"),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return L("sortByCompleted")}},"Sort by completed")),r.a.createElement("p",{className:"amount"},"Amount of todos: ".concat(s.length)),r.a.createElement(m,{todos:v})):r.a.createElement("button",{className:"start-button",type:"button",onClick:T,disabled:n},n?"Loading...":"Start Load"))})),v=n(2),g=n(13),j=n(14),N={isLoaded:!1,isLoading:!1,todos:[],users:[],error:!1,sortField:""};var h=Object(v.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOS":return Object(f.a)({},t,{todos:e.payload});case"SET_USERS":return Object(f.a)({},t,{users:e.payload});case"SET_IS_LOADING":return Object(f.a)({},t,{isLoading:e.payload});case"SET_IS_LOADED":return Object(f.a)({},t,{isLoaded:e.payload});case"REMOVE_TODO":return Object(f.a)({},t,{todos:t.todos.filter((function(t){return t.id!==e.payload}))});case"SET_SORT_FIELD":return Object(f.a)({},t,{sortField:e.payload});default:return t}}),N,Object(j.composeWithDevTools)(Object(v.applyMiddleware)(g.a))),D=function(){return r.a.createElement(c.a,{store:h},r.a.createElement(L,null))};s.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.dad05c49.chunk.js.map